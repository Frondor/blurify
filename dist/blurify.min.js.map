{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///blurify.min.js","webpack:///webpack/bootstrap 0587db92eb9e7ddf1558","webpack:///./src/index.js","webpack:///./src/utils.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","blurify","thumbs","options","_typeof","renderOriginalImage","img","thumb","parentNode","appendChild","window","getComputedStyle","opacity","className","preloadThumbs","__WEBPACK_IMPORTED_MODULE_0__utils__","loadThumbCb","preloadImages","waypointsCb","Waypoints","images","length","image","document","createElement","src","dataset","original","loadImageCb","canvas","insertBefore","nextElementSibling","blurRadius","alphaChannel","bind","value","Symbol","iterator","obj","constructor","preload","callback","_ret","onImageLoad","removeEventListener","complete","v","addEventListener","ImageBlur","radius","includeAlphaChannel","mulTable","shgTable","getElementById","w","naturalWidth","h","naturalHeight","width","height","context","getContext","clearRect","drawImage","isNaN","BlurStack","r","g","b","a","next","topX","topY","imageData","getImageData","e","netscape","security","PrivilegeManager","enablePrivilege","alert","Error","x","y","yp","yi","yw","rSum","gSum","bSum","aSum","rOutSum","gOutSum","bOutSum","aOutSum","rInSum","gInSum","bInSum","aInSum","pr","pg","pb","pa","rbs","stackEnd","pixels","data","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","stack","stackIn","stackOut","mulSum","shgSum","putImageData"],"mappings":"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K,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC3E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACxEC,GACE,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC3D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAC5D,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAA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","file":"blurify.min.js?0587db92","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"my-library\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"my-common-library\"] = factory();\n\telse\n\t\troot[\"Blurify\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"my-library\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"my-common-library\"] = factory();\n\telse\n\t\troot[\"Blurify\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(2);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\nfunction blurify(thumbs, options) {\n\n    this.options = (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' ? options : {};\n\n    this.renderOriginalImage = function (img) {\n        img.thumb.parentNode.appendChild(img);\n        window.getComputedStyle(img).opacity; // we need a paint reflow\n        img.thumb.parentNode.className += ' is-image-loaded';\n    };\n\n    this.preloadThumbs = function (thumbs) {\n        Object(__WEBPACK_IMPORTED_MODULE_0__utils__[\"b\" /* preload */])(thumbs, this.loadThumbCb);\n    };\n\n    this.preloadImages = function (thumbs) {\n        if (this.options.waypointsCb && window.Waypoints) {\n            this.options.waypointsCb(thumbs);\n        } else {\n            var images = [];\n            for (var i = 0; i < thumbs.length; i++) {\n                var image = document.createElement('img');\n                image.thumb = thumbs[i];\n                image.src = thumbs[i].dataset.original;\n                images[images.length] = image;\n            }\n            Object(__WEBPACK_IMPORTED_MODULE_0__utils__[\"b\" /* preload */])(images, this.loadImageCb);\n        }\n    };\n\n    this.loadThumbCb = function (thumb) {\n        // to-do : make default callbacks4these\n        var canvas = document.createElement('canvas');\n        thumb.parentNode.insertBefore(canvas, thumb.nextElementSibling);\n        Object(__WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* ImageBlur */])(thumb, canvas, this.options.blurRadius, this.options.alphaChannel);\n    }.bind(this);\n\n    this.loadImageCb = function (img) {\n        // to-do : make default callbacks4these\n        this.renderOriginalImage(img);\n    }.bind(this);\n\n    // run\n    this.preloadThumbs(thumbs);\n    this.preloadImages(thumbs);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (blurify);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = preload;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ImageBlur;\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction preload(images, callback) {\n  var _loop = function _loop() {\n    var image = images[i],\n        onImageLoad = function onImageLoad() {\n      if (callback && typeof callback === 'function') {\n        callback(image);\n      }\n      image.removeEventListener('load', onImageLoad);\n    };\n\n    if (image.complete) {\n      // trigger load event\n      onImageLoad();\n      return {\n        v: void 0\n      };\n    }\n\n    image.addEventListener('load', onImageLoad);\n  };\n\n  for (var i = 0; i < images.length; i++) {\n    var _ret = _loop();\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n}\n\nfunction ImageBlur(img, canvas, radius, includeAlphaChannel) {\n  var mulTable = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],\n      shgTable = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n\n  if (typeof img === 'string') {\n    img = document.getElementById(img);\n  }\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  var w = img.naturalWidth,\n      h = img.naturalHeight;\n\n  radius = radius ? radius : h / w * 10;\n\n  // canvas.style.width  = w + \"px\";\n  // canvas.style.height = h + \"px\";\n  canvas.width = w;\n  canvas.height = h;\n\n  var context = canvas.getContext('2d');\n\n  context.clearRect(0, 0, w, h);\n  context.drawImage(img, 0, 0);\n\n  if (isNaN(radius) || radius < 1) return;\n\n  var BlurStack = function BlurStack() {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = 0;\n    this.next = null;\n  };\n\n  var stackBlurCanvasRGB = function stackBlurCanvasRGB(context, topX, topY, width, height, radius, includeAlphaChannel) {\n    radius |= 0;\n\n    var imageData;\n\n    try {\n      try {\n        imageData = context.getImageData(topX, topY, width, height);\n      } catch (e) {\n\n        // NOTE: this part is supposedly only needed if you want to work with local files\n        // so it might be okay to remove the whole try/catch block and just use\n        // imageData = context.getImageData( topX, topY, width, height );\n        try {\n          window.netscape.security.PrivilegeManager.enablePrivilege('UniversalBrowserRead');\n          imageData = context.getImageData(topX, topY, width, height);\n        } catch (e) {\n          alert('Cannot access local image');\n          throw new Error('unable to access local image data: ' + e);\n        }\n      }\n    } catch (e) {\n      alert('Cannot access image');\n      throw new Error('unable to access image data: ' + e);\n    }\n\n    var pixels = imageData.data;\n\n    var x, y, i, p, yp, yi, yw, rSum, gSum, bSum, aSum, rOutSum, gOutSum, bOutSum, aOutSum, rInSum, gInSum, bInSum, aInSum, pr, pg, pb, pa, rbs;\n\n    var div = radius + radius + 1,\n        widthMinus1 = width - 1,\n        heightMinus1 = height - 1,\n        radiusPlus1 = radius + 1,\n        sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2,\n        stackEnd;\n\n    var stackStart = new BlurStack();\n    var stack = stackStart;\n\n    for (i = 1; i < div; i++) {\n      stack = stack.next = new BlurStack();\n      if (i == radiusPlus1) stackEnd = stack;\n    }\n    stack.next = stackStart;\n    var stackIn = null;\n    var stackOut = null;\n\n    yw = yi = 0;\n\n    var mulSum = mulTable[radius];\n    var shgSum = shgTable[radius];\n\n    for (y = 0; y < height; y++) {\n      rInSum = gInSum = bInSum = aInSum = rSum = gSum = bSum = aSum = 0;\n\n      rOutSum = radiusPlus1 * (pr = pixels[yi]);\n      gOutSum = radiusPlus1 * (pg = pixels[yi + 1]);\n      bOutSum = radiusPlus1 * (pb = pixels[yi + 2]);\n      if (includeAlphaChannel) aOutSum = radiusPlus1 * (pa = pixels[yi + 3]);\n\n      rSum += sumFactor * pr;\n      gSum += sumFactor * pg;\n      bSum += sumFactor * pb;\n      if (includeAlphaChannel) aSum += sumFactor * pa;\n\n      stack = stackStart;\n\n      for (i = 0; i < radiusPlus1; i++) {\n        stack.r = pr;\n        stack.g = pg;\n        stack.b = pb;\n        if (includeAlphaChannel) stack.a = pa;\n        stack = stack.next;\n      }\n\n      for (i = 1; i < radiusPlus1; i++) {\n        p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n        rSum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - i);\n        gSum += (stack.g = pg = pixels[p + 1]) * rbs;\n        bSum += (stack.b = pb = pixels[p + 2]) * rbs;\n        if (includeAlphaChannel) aSum += (stack.a = pa = pixels[p + 3]) * rbs;\n\n        rInSum += pr;\n        gInSum += pg;\n        bInSum += pb;\n        if (includeAlphaChannel) aInSum += pa;\n\n        stack = stack.next;\n      }\n\n      stackIn = stackStart;\n      stackOut = stackEnd;\n      for (x = 0; x < width; x++) {\n        if (includeAlphaChannel) {\n          pixels[yi + 3] = pa = aSum * mulSum >> shgSum;\n          if (pa != 0) {\n            pa = 255 / pa;\n            pixels[yi] = (rSum * mulSum >> shgSum) * pa;\n            pixels[yi + 1] = (gSum * mulSum >> shgSum) * pa;\n            pixels[yi + 2] = (bSum * mulSum >> shgSum) * pa;\n          } else {\n            pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n          }\n        } else {\n          pixels[yi] = rSum * mulSum >> shgSum;\n          pixels[yi + 1] = gSum * mulSum >> shgSum;\n          pixels[yi + 2] = bSum * mulSum >> shgSum;\n        }\n\n        rSum -= rOutSum;\n        gSum -= gOutSum;\n        bSum -= bOutSum;\n        if (includeAlphaChannel) aSum -= aOutSum;\n\n        rOutSum -= stackIn.r;\n        gOutSum -= stackIn.g;\n        bOutSum -= stackIn.b;\n        if (includeAlphaChannel) aOutSum -= stackIn.a;\n\n        p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n\n        rInSum += stackIn.r = pixels[p];\n        gInSum += stackIn.g = pixels[p + 1];\n        bInSum += stackIn.b = pixels[p + 2];\n        if (includeAlphaChannel) aInSum += stackIn.a = pixels[p + 3];\n\n        rSum += rInSum;\n        gSum += gInSum;\n        bSum += bInSum;\n        if (includeAlphaChannel) aSum += aInSum;\n\n        stackIn = stackIn.next;\n\n        rOutSum += pr = stackOut.r;\n        gOutSum += pg = stackOut.g;\n        bOutSum += pb = stackOut.b;\n        if (includeAlphaChannel) aOutSum += pa = stackOut.a;\n\n        rInSum -= pr;\n        gInSum -= pg;\n        bInSum -= pb;\n        if (includeAlphaChannel) aInSum -= pa;\n\n        stackOut = stackOut.next;\n\n        yi += 4;\n      }\n      yw += width;\n    }\n\n    for (x = 0; x < width; x++) {\n      gInSum = bInSum = aInSum = rInSum = gSum = bSum = aSum = rSum = 0;\n\n      yi = x << 2;\n      rOutSum = radiusPlus1 * (pr = pixels[yi]);\n      gOutSum = radiusPlus1 * (pg = pixels[yi + 1]);\n      bOutSum = radiusPlus1 * (pb = pixels[yi + 2]);\n      if (includeAlphaChannel) aOutSum = radiusPlus1 * (pa = pixels[yi + 3]);\n\n      rSum += sumFactor * pr;\n      gSum += sumFactor * pg;\n      bSum += sumFactor * pb;\n      if (includeAlphaChannel) aSum += sumFactor * pa;\n\n      stack = stackStart;\n\n      for (i = 0; i < radiusPlus1; i++) {\n        stack.r = pr;\n        stack.g = pg;\n        stack.b = pb;\n        if (includeAlphaChannel) stack.a = pa;\n        stack = stack.next;\n      }\n\n      yp = width;\n\n      for (i = 1; i <= radius; i++) {\n        yi = yp + x << 2;\n\n        rSum += (stack.r = pr = pixels[yi]) * (rbs = radiusPlus1 - i);\n        gSum += (stack.g = pg = pixels[yi + 1]) * rbs;\n        bSum += (stack.b = pb = pixels[yi + 2]) * rbs;\n        if (includeAlphaChannel) aSum += (stack.a = pa = pixels[yi + 3]) * rbs;\n\n        rInSum += pr;\n        gInSum += pg;\n        bInSum += pb;\n        if (includeAlphaChannel) aInSum += pa;\n\n        stack = stack.next;\n\n        if (i < heightMinus1) {\n          yp += width;\n        }\n      }\n\n      yi = x;\n      stackIn = stackStart;\n      stackOut = stackEnd;\n      for (y = 0; y < height; y++) {\n        p = yi << 2;\n        if (includeAlphaChannel) {\n          pixels[p + 3] = pa = aSum * mulSum >> shgSum;\n          if (pa > 0) {\n            pa = 255 / pa;\n            pixels[p] = (rSum * mulSum >> shgSum) * pa;\n            pixels[p + 1] = (gSum * mulSum >> shgSum) * pa;\n            pixels[p + 2] = (bSum * mulSum >> shgSum) * pa;\n          } else {\n            pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\n          }\n        } else {\n          pixels[p] = rSum * mulSum >> shgSum;\n          pixels[p + 1] = gSum * mulSum >> shgSum;\n          pixels[p + 2] = bSum * mulSum >> shgSum;\n        }\n\n        rSum -= rOutSum;\n        gSum -= gOutSum;\n        bSum -= bOutSum;\n        if (includeAlphaChannel) aSum -= aOutSum;\n\n        rOutSum -= stackIn.r;\n        gOutSum -= stackIn.g;\n        bOutSum -= stackIn.b;\n        if (includeAlphaChannel) aOutSum -= stackIn.a;\n\n        p = x + ((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n\n        rSum += rInSum += stackIn.r = pixels[p];\n        gSum += gInSum += stackIn.g = pixels[p + 1];\n        bSum += bInSum += stackIn.b = pixels[p + 2];\n        if (includeAlphaChannel) aSum += aInSum += stackIn.a = pixels[p + 3];\n\n        stackIn = stackIn.next;\n\n        rOutSum += pr = stackOut.r;\n        gOutSum += pg = stackOut.g;\n        bOutSum += pb = stackOut.b;\n        if (includeAlphaChannel) aOutSum += pa = stackOut.a;\n\n        rInSum -= pr;\n        gInSum -= pg;\n        bInSum -= pb;\n        if (includeAlphaChannel) aInSum -= pa;\n\n        stackOut = stackOut.next;\n\n        yi += width;\n      }\n    }\n\n    context.putImageData(imageData, topX, topY);\n  };\n\n  stackBlurCanvasRGB(context, 0, 0, w, h, radius, includeAlphaChannel);\n}\n\n/***/ })\n/******/ ])[\"default\"];\n});\n\n\n// WEBPACK FOOTER //\n// blurify.min.js?0587db92"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0587db92eb9e7ddf1558","import { preload, ImageBlur } from './utils';\r\n\r\nfunction blurify (thumbs, options) {\r\n\r\n    this.options = typeof options === 'object' ? options : {};\r\n\r\n    this.renderOriginalImage = function (img) {\r\n            img.thumb.parentNode.appendChild(img);\r\n            window.getComputedStyle(img).opacity; // we need a paint reflow\r\n            img.thumb.parentNode.className += ' is-image-loaded';\r\n    };\r\n\r\n    this.preloadThumbs = function (thumbs) {\r\n        preload(thumbs, this.loadThumbCb);\r\n    };\r\n\r\n    this.preloadImages = function (thumbs) {\r\n        if (this.options.waypointsCb && window.Waypoints) {\r\n            this.options.waypointsCb(thumbs);\r\n        } else {\r\n            let images = [];\r\n            for (var i=0;i<thumbs.length;i++) {\r\n                let image = document.createElement('img');\r\n                image.thumb = thumbs[i];\r\n                image.src = thumbs[i].dataset.original;\r\n                images[images.length] = image;\r\n            }\r\n            preload(images, this.loadImageCb);\r\n        }\r\n    };\r\n\r\n    this.loadThumbCb = function (thumb) { // to-do : make default callbacks4these\r\n        let canvas = document.createElement('canvas');\r\n        thumb.parentNode.insertBefore(canvas,thumb.nextElementSibling);\r\n        ImageBlur(thumb, canvas, this.options.blurRadius, this.options.alphaChannel);\r\n    }.bind(this);\r\n\r\n    this.loadImageCb = function (img) { // to-do : make default callbacks4these\r\n        this.renderOriginalImage(img);\r\n    }.bind(this);\r\n\r\n    // run\r\n    this.preloadThumbs(thumbs);\r\n    this.preloadImages(thumbs);\r\n}\r\n\r\nexport default blurify;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export function preload (images, callback) {\r\n    for (var i=0;i<images.length;i++) {\r\n        let image = images[i],\r\n        onImageLoad = function () {\r\n            if (callback && typeof callback === 'function') {\r\n                callback(image);\r\n            }\r\n            image.removeEventListener('load', onImageLoad);\r\n        };\r\n        \r\n        if (image.complete) { // trigger load event\r\n            onImageLoad();\r\n            return;\r\n        }\r\n\r\n        image.addEventListener('load', onImageLoad);\r\n    }\r\n}\r\n\r\nexport function ImageBlur (img, canvas, radius, includeAlphaChannel) {\r\n  const mulTable = [\r\n      512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512,\r\n      454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512,\r\n      482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456,\r\n      437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512,\r\n      497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328,\r\n      320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456,\r\n      446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335,\r\n      329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512,\r\n      505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405,\r\n      399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328,\r\n      324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271,\r\n      268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456,\r\n      451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388,\r\n      385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335,\r\n      332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292,\r\n      289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],\r\n    shgTable = [\r\n      9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,\r\n      17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,\r\n      19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\r\n      20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\r\n      21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\r\n      21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,\r\n      22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\r\n      22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,\r\n      23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n      23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n      23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\r\n      23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n      24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n      24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n      24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\r\n      24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 ];\r\n\r\n  if (typeof img === 'string') {\r\n    img = document.getElementById(img);\r\n  }\r\n  if (typeof canvas === 'string') {\r\n    canvas = document.getElementById(canvas);\r\n  }\r\n\r\n  let w = img.naturalWidth,\r\n    h = img.naturalHeight;\r\n\r\n  radius = radius ? radius : (h / w) * 10;\r\n\r\n    // canvas.style.width  = w + \"px\";\r\n    // canvas.style.height = h + \"px\";\r\n  canvas.width = w;\r\n  canvas.height = h;\r\n\r\n  var context = canvas.getContext('2d');\r\n\r\n  context.clearRect(0, 0, w, h);\r\n  context.drawImage(img, 0, 0);\r\n\r\n  if (isNaN(radius) || radius < 1) return;\r\n\r\n  var BlurStack = function ()   {\r\n    this.r = 0;\r\n    this.g = 0;\r\n    this.b = 0;\r\n    this.a = 0;\r\n    this.next = null;\r\n  };\r\n\r\n  var stackBlurCanvasRGB = function (context, topX, topY, width, height, radius, includeAlphaChannel)   {\r\n    radius |= 0;\r\n\r\n    var imageData;\r\n\r\n    try {\r\n      try {\r\n        imageData = context.getImageData(topX, topY, width, height);\r\n      } catch (e) {\r\n\r\n            // NOTE: this part is supposedly only needed if you want to work with local files\r\n            // so it might be okay to remove the whole try/catch block and just use\r\n            // imageData = context.getImageData( topX, topY, width, height );\r\n        try {\r\n          window.netscape.security.PrivilegeManager.enablePrivilege('UniversalBrowserRead');\r\n          imageData = context.getImageData(topX, topY, width, height);\r\n        } catch (e) {\r\n          alert('Cannot access local image');\r\n          throw new Error('unable to access local image data: ' + e);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      alert('Cannot access image');\r\n      throw new Error('unable to access image data: ' + e);\r\n    }\r\n\r\n    var pixels = imageData.data;\r\n\r\n    var x, y, i, p, yp, yi, yw, rSum, gSum, bSum, aSum,\r\n      rOutSum, gOutSum, bOutSum, aOutSum,\r\n      rInSum, gInSum, bInSum, aInSum,\r\n      pr, pg, pb, pa, rbs;\r\n\r\n    var div = (radius + radius + 1),\r\n      widthMinus1 = width - 1,\r\n      heightMinus1 = height - 1,\r\n      radiusPlus1 = radius + 1,\r\n      sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2,\r\n      stackEnd;\r\n\r\n    var stackStart = new BlurStack();\r\n    var stack = stackStart;\r\n\r\n    for (i = 1; i < div; i++)       {\r\n      stack = stack.next = new BlurStack();\r\n      if (i == radiusPlus1) stackEnd = stack;\r\n    }\r\n    stack.next = stackStart;\r\n    var stackIn = null;\r\n    var stackOut = null;\r\n\r\n    yw = yi = 0;\r\n\r\n    var mulSum = mulTable[radius];\r\n    var shgSum = shgTable[radius];\r\n\r\n    for (y = 0; y < height; y++)        {\r\n      rInSum = gInSum = bInSum = aInSum = rSum = gSum = bSum = aSum = 0;\r\n\r\n      rOutSum = radiusPlus1 * (pr = pixels[yi]);\r\n      gOutSum = radiusPlus1 * (pg = pixels[yi + 1]);\r\n      bOutSum = radiusPlus1 * (pb = pixels[yi + 2]);\r\n      if (includeAlphaChannel)aOutSum = radiusPlus1 * (pa = pixels[yi + 3]);\r\n\r\n      rSum += sumFactor * pr;\r\n      gSum += sumFactor * pg;\r\n      bSum += sumFactor * pb;\r\n      if (includeAlphaChannel) aSum += sumFactor * pa;\r\n\r\n      stack = stackStart;\r\n\r\n      for (i = 0; i < radiusPlus1; i++)         {\r\n        stack.r = pr;\r\n        stack.g = pg;\r\n        stack.b = pb;\r\n        if (includeAlphaChannel) stack.a = pa;\r\n        stack = stack.next;\r\n      }\r\n\r\n      for (i = 1; i < radiusPlus1; i++)         {\r\n        p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\r\n        rSum += (stack.r = (pr = pixels[p])) * (rbs = radiusPlus1 - i);\r\n        gSum += (stack.g = (pg = pixels[p + 1])) * rbs;\r\n        bSum += (stack.b = (pb = pixels[p + 2])) * rbs;\r\n        if (includeAlphaChannel) aSum += (stack.a = (pa = pixels[p + 3])) * rbs;\r\n\r\n        rInSum += pr;\r\n        gInSum += pg;\r\n        bInSum += pb;\r\n        if (includeAlphaChannel) aInSum += pa;\r\n\r\n        stack = stack.next;\r\n      }\r\n\r\n      stackIn = stackStart;\r\n      stackOut = stackEnd;\r\n      for (x = 0; x < width; x++)           {\r\n        if (includeAlphaChannel) {\r\n          pixels[yi + 3] = pa = (aSum * mulSum) >> shgSum;\r\n          if (pa != 0)                  {\r\n            pa = 255 / pa;\r\n            pixels[yi] = ((rSum * mulSum) >> shgSum) * pa;\r\n            pixels[yi + 1] = ((gSum * mulSum) >> shgSum) * pa;\r\n            pixels[yi + 2] = ((bSum * mulSum) >> shgSum) * pa;\r\n          } else {\r\n            pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\r\n          }\r\n        }               else {\r\n          pixels[yi] = (rSum * mulSum) >> shgSum;\r\n          pixels[yi + 1] = (gSum * mulSum) >> shgSum;\r\n          pixels[yi + 2] = (bSum * mulSum) >> shgSum;\r\n        }\r\n\r\n        rSum -= rOutSum;\r\n        gSum -= gOutSum;\r\n        bSum -= bOutSum;\r\n        if (includeAlphaChannel) aSum -= aOutSum;\r\n\r\n        rOutSum -= stackIn.r;\r\n        gOutSum -= stackIn.g;\r\n        bOutSum -= stackIn.b;\r\n        if (includeAlphaChannel) aOutSum -= stackIn.a;\r\n\r\n        p = (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\r\n\r\n        rInSum += (stackIn.r = pixels[p]);\r\n        gInSum += (stackIn.g = pixels[p + 1]);\r\n        bInSum += (stackIn.b = pixels[p + 2]);\r\n        if (includeAlphaChannel)    aInSum += (stackIn.a = pixels[p + 3]);\r\n\r\n        rSum += rInSum;\r\n        gSum += gInSum;\r\n        bSum += bInSum;\r\n        if (includeAlphaChannel)    aSum += aInSum;\r\n\r\n        stackIn = stackIn.next;\r\n\r\n        rOutSum += (pr = stackOut.r);\r\n        gOutSum += (pg = stackOut.g);\r\n        bOutSum += (pb = stackOut.b);\r\n        if (includeAlphaChannel)    aOutSum += (pa = stackOut.a);\r\n\r\n        rInSum -= pr;\r\n        gInSum -= pg;\r\n        bInSum -= pb;\r\n        if (includeAlphaChannel)    aInSum -= pa;\r\n\r\n        stackOut = stackOut.next;\r\n\r\n        yi += 4;\r\n      }\r\n      yw += width;\r\n    }\r\n\r\n    for (x = 0; x < width; x++)     {\r\n      gInSum = bInSum = aInSum = rInSum = gSum = bSum = aSum = rSum = 0;\r\n\r\n      yi = x << 2;\r\n      rOutSum = radiusPlus1 * (pr = pixels[yi]);\r\n      gOutSum = radiusPlus1 * (pg = pixels[yi + 1]);\r\n      bOutSum = radiusPlus1 * (pb = pixels[yi + 2]);\r\n      if (includeAlphaChannel) aOutSum = radiusPlus1 * (pa = pixels[yi + 3]);\r\n\r\n      rSum += sumFactor * pr;\r\n      gSum += sumFactor * pg;\r\n      bSum += sumFactor * pb;\r\n      if (includeAlphaChannel) aSum += sumFactor * pa;\r\n\r\n      stack = stackStart;\r\n\r\n      for (i = 0; i < radiusPlus1; i++)         {\r\n        stack.r = pr;\r\n        stack.g = pg;\r\n        stack.b = pb;\r\n        if (includeAlphaChannel) stack.a = pa;\r\n        stack = stack.next;\r\n      }\r\n\r\n      yp = width;\r\n\r\n      for (i = 1; i <= radius; i++)         {\r\n        yi = (yp + x) << 2;\r\n\r\n        rSum += (stack.r = (pr = pixels[yi])) * (rbs = radiusPlus1 - i);\r\n        gSum += (stack.g = (pg = pixels[yi + 1])) * rbs;\r\n        bSum += (stack.b = (pb = pixels[yi + 2])) * rbs;\r\n        if (includeAlphaChannel) aSum += (stack.a = (pa = pixels[yi + 3])) * rbs;\r\n\r\n        rInSum += pr;\r\n        gInSum += pg;\r\n        bInSum += pb;\r\n        if (includeAlphaChannel) aInSum += pa;\r\n\r\n        stack = stack.next;\r\n\r\n        if (i < heightMinus1)               {\r\n          yp += width;\r\n        }\r\n      }\r\n\r\n      yi = x;\r\n      stackIn = stackStart;\r\n      stackOut = stackEnd;\r\n      for (y = 0; y < height; y++)          {\r\n        p = yi << 2;\r\n        if (includeAlphaChannel) {\r\n          pixels[p + 3] = pa = (aSum * mulSum) >> shgSum;\r\n          if (pa > 0)                   {\r\n            pa = 255 / pa;\r\n            pixels[p] = ((rSum * mulSum) >> shgSum) * pa;\r\n            pixels[p + 1] = ((gSum * mulSum) >> shgSum) * pa;\r\n            pixels[p + 2] = ((bSum * mulSum) >> shgSum) * pa;\r\n          } else {\r\n            pixels[p] = pixels[p + 1] = pixels[p + 2] = 0;\r\n          }\r\n        }               else {\r\n          pixels[p] = (rSum * mulSum) >> shgSum;\r\n          pixels[p + 1] = (gSum * mulSum) >> shgSum;\r\n          pixels[p + 2] = (bSum * mulSum) >> shgSum;\r\n        }\r\n\r\n        rSum -= rOutSum;\r\n        gSum -= gOutSum;\r\n        bSum -= bOutSum;\r\n        if (includeAlphaChannel) aSum -= aOutSum;\r\n\r\n        rOutSum -= stackIn.r;\r\n        gOutSum -= stackIn.g;\r\n        bOutSum -= stackIn.b;\r\n        if (includeAlphaChannel) aOutSum -= stackIn.a;\r\n\r\n        p = (x + (((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width)) << 2;\r\n\r\n        rSum += (rInSum += (stackIn.r = pixels[p]));\r\n        gSum += (gInSum += (stackIn.g = pixels[p + 1]));\r\n        bSum += (bInSum += (stackIn.b = pixels[p + 2]));\r\n        if (includeAlphaChannel) aSum += (aInSum += (stackIn.a = pixels[p + 3]));\r\n\r\n        stackIn = stackIn.next;\r\n\r\n        rOutSum += (pr = stackOut.r);\r\n        gOutSum += (pg = stackOut.g);\r\n        bOutSum += (pb = stackOut.b);\r\n        if (includeAlphaChannel) aOutSum += (pa = stackOut.a);\r\n\r\n        rInSum -= pr;\r\n        gInSum -= pg;\r\n        bInSum -= pb;\r\n        if (includeAlphaChannel) aInSum -= pa;\r\n\r\n        stackOut = stackOut.next;\r\n\r\n        yi += width;\r\n      }\r\n    }\r\n\r\n    context.putImageData(imageData, topX, topY);\r\n  };\r\n\r\n  stackBlurCanvasRGB(context, 0, 0, w, h, radius, includeAlphaChannel);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"],"sourceRoot":""}